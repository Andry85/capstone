{"ast":null,"code":"import _defineProperty from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/var/www/capstone/node_modules/@babel/runtime/regenerator/index.js\";import{useState}from\"react\";import{createAuthUserWithEmailAndPassword,createUserDocumentfromAuth}from'../../utils/firebase/firebase.utils';import'./sign-up-form.styles.scss';import FormInput from\"../form-input/form-input.component\";import Button,{BUTTON_TYPE_CLASSES}from\"../button/button.component\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultFormFields={displayName:'',email:'',password:'',confirmPassword:''};var SignUpForm=function SignUpForm(){var _useState=useState(defaultFormFields),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];var displayName=formFields.displayName,email=formFields.email,password=formFields.password,confirmPassword=formFields.confirmPassword;var resetFields=function resetFields(){setFormFields(defaultFormFields);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _yield$createAuthUser,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(password!==confirmPassword)){_context.next=4;break;}alert(\"password do not match\");return _context.abrupt(\"return\");case 4:_context.prev=4;_context.next=7;return createAuthUserWithEmailAndPassword(email,password);case 7:_yield$createAuthUser=_context.sent;user=_yield$createAuthUser.user;_context.next=11;return createUserDocumentfromAuth(user,{displayName:displayName});case 11:resetFields();_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](4);if(_context.t0.code==='auth/email-already-in-use'){alert('Cannot create a user, email already in use');}else{console.error(_context.t0);}case 17:case\"end\":return _context.stop();}}},_callee,null,[[4,14]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormFields(_objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign up with your email and password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormInput,{label:\"Dispaly Name\",type:\"text\",required:true,onChange:handleChange,name:\"displayName\",value:displayName}),/*#__PURE__*/_jsx(FormInput,{label:\"Email\",type:\"email\",required:true,onChange:handleChange,name:\"email\",value:email}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",type:\"password\",required:true,onChange:handleChange,name:\"password\",value:password}),/*#__PURE__*/_jsx(FormInput,{label:\"Confirm password\",type:\"password\",required:true,onChange:handleChange,name:\"confirmPassword\",value:confirmPassword}),/*#__PURE__*/_jsx(Button,{buttonType:BUTTON_TYPE_CLASSES.google,type:\"submit\",children:\"Sign Up\"})]})]});};export default SignUpForm;","map":{"version":3,"sources":["/var/www/capstone/src/components/sign-up-form/sign-up-form.component.jsx"],"names":["useState","createAuthUserWithEmailAndPassword","createUserDocumentfromAuth","FormInput","Button","BUTTON_TYPE_CLASSES","defaultFormFields","displayName","email","password","confirmPassword","SignUpForm","formFields","setFormFields","resetFields","handleSubmit","event","preventDefault","alert","user","code","console","error","handleChange","target","name","value","google"],"mappings":"ugBAAA,OAASA,QAAT,KAAwB,OAAxB,CAEA,OAAQC,kCAAR,CAA4CC,0BAA5C,KAA6E,qCAA7E,CACA,MAAO,4BAAP,CAEA,MAAOC,CAAAA,SAAP,KAAsB,oCAAtB,CACA,MAAOC,CAAAA,MAAP,EAAgBC,mBAAhB,KAA0C,4BAA1C,C,wFAIA,GAAMC,CAAAA,iBAAiB,CAAG,CACtBC,WAAW,CAAE,EADS,CAEtBC,KAAK,CAAE,EAFe,CAGtBC,QAAQ,CAAE,EAHY,CAItBC,eAAe,CAAE,EAJK,CAA1B,CAOA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAErB,cAAoCX,QAAQ,CAACM,iBAAD,CAA5C,wCAAOM,UAAP,eAAmBC,aAAnB,eACA,GAAON,CAAAA,WAAP,CAAwDK,UAAxD,CAAOL,WAAP,CAAoBC,KAApB,CAAwDI,UAAxD,CAAoBJ,KAApB,CAA2BC,QAA3B,CAAwDG,UAAxD,CAA2BH,QAA3B,CAAqCC,eAArC,CAAwDE,UAAxD,CAAqCF,eAArC,CAIA,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBD,aAAa,CAACP,iBAAD,CAAb,CACH,CAFD,CAIA,GAAMS,CAAAA,YAAY,0FAAG,iBAAOC,KAAP,iJACjBA,KAAK,CAACC,cAAN,GADiB,KAGbR,QAAQ,GAAKC,eAHA,0BAIbQ,KAAK,CAAC,uBAAD,CAAL,CAJa,8EASQjB,CAAAA,kCAAkC,CAACO,KAAD,CAAQC,QAAR,CAT1C,4CASNU,IATM,uBASNA,IATM,wBAWPjB,CAAAA,0BAA0B,CAACiB,IAAD,CAAO,CAACZ,WAAW,CAAXA,WAAD,CAAP,CAXnB,SAYbO,WAAW,GAZE,iFAiBb,GAAI,YAAMM,IAAN,GAAe,2BAAnB,CAAgD,CAC5CF,KAAK,CAAC,4CAAD,CAAL,CACH,CAFD,IAEO,CACHG,OAAO,CAACC,KAAR,cACH,CArBY,qEAAH,kBAAZP,CAAAA,YAAY,4CAAlB,CA2BA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACP,KAAD,CAAW,CAC5B,kBAAsBA,KAAK,CAACQ,MAA5B,CAAOC,IAAP,eAAOA,IAAP,CAAaC,KAAb,eAAaA,KAAb,CAEAb,aAAa,gCAAKD,UAAL,wBAAkBa,IAAlB,CAAyBC,KAAzB,GAAb,CAEH,CALD,CAOA,mBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,8CADJ,cAEI,8DAFJ,cAGI,cAAM,QAAQ,CAAEX,YAAhB,wBACI,KAAC,SAAD,EAAW,KAAK,CAAC,cAAjB,CAAgC,IAAI,CAAC,MAArC,CAA4C,QAAQ,KAApD,CAAqD,QAAQ,CAAEQ,YAA/D,CAA6E,IAAI,CAAC,aAAlF,CAAgG,KAAK,CAAEhB,WAAvG,EADJ,cAEI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,CAAyB,IAAI,CAAC,OAA9B,CAAsC,QAAQ,KAA9C,CAA+C,QAAQ,CAAEgB,YAAzD,CAAuE,IAAI,CAAC,OAA5E,CAAoF,KAAK,CAAEf,KAA3F,EAFJ,cAGI,KAAC,SAAD,EAAW,KAAK,CAAC,UAAjB,CAA4B,IAAI,CAAC,UAAjC,CAA4C,QAAQ,KAApD,CAAqD,QAAQ,CAAEe,YAA/D,CAA6E,IAAI,CAAC,UAAlF,CAA6F,KAAK,CAAEd,QAApG,EAHJ,cAII,KAAC,SAAD,EAAW,KAAK,CAAC,kBAAjB,CAAoC,IAAI,CAAC,UAAzC,CAAoD,QAAQ,KAA5D,CAA6D,QAAQ,CAAEc,YAAvE,CAAqF,IAAI,CAAC,iBAA1F,CAA4G,KAAK,CAAEb,eAAnH,EAJJ,cAKI,KAAC,MAAD,EAAQ,UAAU,CAAEL,mBAAmB,CAACsB,MAAxC,CAAgD,IAAI,CAAC,QAArD,qBALJ,GAHJ,GADJ,CAaH,CA1DD,CA4DA,cAAehB,CAAAA,UAAf","sourcesContent":["import { useState} from \"react\";\n\nimport {createAuthUserWithEmailAndPassword, createUserDocumentfromAuth} from '../../utils/firebase/firebase.utils';\nimport './sign-up-form.styles.scss';\n\nimport FormInput from \"../form-input/form-input.component\";\nimport Button, {BUTTON_TYPE_CLASSES} from \"../button/button.component\";\n\n\n\nconst defaultFormFields = {\n    displayName: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n}\n\nconst SignUpForm = () => {\n\n    const [formFields, setFormFields] = useState(defaultFormFields);\n    const {displayName, email, password, confirmPassword} = formFields;\n\n\n    \n    const resetFields = () => {\n        setFormFields(defaultFormFields);\n    }\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n        if (password !== confirmPassword) {\n            alert(\"password do not match\");\n            return;\n        }\n\n        try {\n            const {user} = await createAuthUserWithEmailAndPassword(email, password);\n\n            await createUserDocumentfromAuth(user, {displayName})\n            resetFields();\n            \n\n        } catch(error) {\n\n            if (error.code === 'auth/email-already-in-use') {\n                alert('Cannot create a user, email already in use');\n            } else {\n                console.error(error);\n            }\n\n            \n        }\n    }\n\n    const handleChange = (event) => {\n        const {name, value} = event.target;\n\n        setFormFields({...formFields, [name]: value});\n\n    };\n\n    return (\n        <div className=\"sign-up-container\">\n            <h2>Don't have an account?</h2>\n            <span>Sign up with your email and password</span>\n            <form onSubmit={handleSubmit}>\n                <FormInput label=\"Dispaly Name\" type=\"text\" required onChange={handleChange} name=\"displayName\" value={displayName} />\n                <FormInput label=\"Email\" type=\"email\" required onChange={handleChange} name=\"email\" value={email} />\n                <FormInput label=\"Password\" type=\"password\" required onChange={handleChange} name=\"password\" value={password} />\n                <FormInput label=\"Confirm password\" type=\"password\" required onChange={handleChange} name=\"confirmPassword\" value={confirmPassword} />\n                <Button buttonType={BUTTON_TYPE_CLASSES.google} type=\"submit\">Sign Up</Button>\n            </form>\n        </div>\n    )\n}\n\nexport default SignUpForm;"]},"metadata":{},"sourceType":"module"}