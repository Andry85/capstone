{"ast":null,"code":"import _slicedToArray from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useState,useEffect}from\"react\";import{createUserDocumentfromAuth,onAuthStateChangedListener}from'../utils/firebase/firebase.utils';import{jsx as _jsx}from\"react/jsx-runtime\";export var UserContext=/*#__PURE__*/createContext({currentUser:null,setCurrentUser:function setCurrentUser(){return null;}});export var UserProvider=function UserProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var value={currentUser:currentUser,setCurrentUser:setCurrentUser};useEffect(function(){var unsubscribe=onAuthStateChangedListener(function(user){if(user){createUserDocumentfromAuth(user);}setCurrentUser(user);});return unsubscribe;},[]);return/*#__PURE__*/_jsx(UserContext.Provider,{value:value,children:children});};","map":{"version":3,"sources":["/var/www/capstone/src/contexts/users.context.jsx"],"names":["createContext","useState","useEffect","createUserDocumentfromAuth","onAuthStateChangedListener","UserContext","currentUser","setCurrentUser","UserProvider","children","value","unsubscribe","user"],"mappings":"uGAAA,OAASA,aAAT,CAAwBC,QAAxB,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,OAAQC,0BAAR,CAAoCC,0BAApC,KAAqE,kCAArE,C,2CAEA,MAAO,IAAMC,CAAAA,WAAW,cAAGL,aAAa,CAAC,CACrCM,WAAW,CAAE,IADwB,CAErCC,cAAc,CAAE,gCAAM,KAAN,EAFqB,CAAD,CAAjC,CAMP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAgB,IAAdC,CAAAA,QAAc,MAAdA,QAAc,CAExC,cAAsCR,QAAQ,CAAC,IAAD,CAA9C,wCAAOK,WAAP,eAAoBC,cAApB,eACA,GAAMG,CAAAA,KAAK,CAAG,CAACJ,WAAW,CAAXA,WAAD,CAAcC,cAAc,CAAdA,cAAd,CAAd,CAEAL,SAAS,CAAC,UAAM,CACZ,GAAMS,CAAAA,WAAW,CAAGP,0BAA0B,CAAC,SAACQ,IAAD,CAAU,CACrD,GAAGA,IAAH,CAAS,CACLT,0BAA0B,CAACS,IAAD,CAA1B,CACH,CACDL,cAAc,CAACK,IAAD,CAAd,CACH,CAL6C,CAA9C,CAOA,MAAOD,CAAAA,WAAP,CAEH,CAVQ,CAUN,EAVM,CAAT,CAYA,mBAAO,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAED,KAA7B,UAAqCD,QAArC,EAAP,CACH,CAlBM","sourcesContent":["import { createContext, useState, useEffect } from \"react\";\nimport {createUserDocumentfromAuth, onAuthStateChangedListener} from '../utils/firebase/firebase.utils';\n\nexport const UserContext = createContext({\n    currentUser: null,\n    setCurrentUser: () => null\n})\n\n\nexport const UserProvider = ({children}) => {\n\n    const [currentUser, setCurrentUser] = useState(null);\n    const value = {currentUser, setCurrentUser};\n\n    useEffect(() => {\n        const unsubscribe = onAuthStateChangedListener((user) => {\n            if(user) {\n                createUserDocumentfromAuth(user);\n            }\n            setCurrentUser(user);\n        });\n\n        return unsubscribe;\n\n    }, [])\n\n    return <UserContext.Provider value={value}>{children}</UserContext.Provider>\n}"]},"metadata":{},"sourceType":"module"}