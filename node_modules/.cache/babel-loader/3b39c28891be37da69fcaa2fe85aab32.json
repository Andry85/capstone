{"ast":null,"code":"import _slicedToArray from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var addCartItem=function addCartItem(cartItems,productToAdd){var existingCartItem=cartItems.find(function(cartItem){return cartItem.id===productToAdd.id;});if(existingCartItem){return cartItems.map(function(cartItem){return cartItem.id===productToAdd.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity+1}):cartItem;});}return[].concat(_toConsumableArray(cartItems),[_objectSpread(_objectSpread({},productToAdd),{},{quantity:1})]);};var removeCartItem=function removeCartItem(cartItems,cartItemToRemove){var existingCartItem=cartItems.find(function(cartItem){return cartItem.id===cartItemToRemove.id;});if(existingCartItem.quantity===1){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToRemove.id;});}return cartItems.map(function(cartItem){return cartItem.id===cartItemToRemove.id?_objectSpread(_objectSpread({},cartItem),{},{quantity:cartItem.quantity-1}):cartItem;});};var clearCartItem=function clearCartItem(cartItems,cartItemToClear){return cartItems.filter(function(cartItem){return cartItem.id!==cartItemToClear.id;});};export var CartContext=/*#__PURE__*/createContext({isCartOpen:false,setIsCartOpen:function setIsCartOpen(){},cartItems:[],addItemToCart:function addItemToCart(){},removeItemFromCart:function removeItemFromCart(){},clearItemFromCart:function clearItemFromCart(){},cartCount:0,cartTotal:0});export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isCartOpen=_useState2[0],setIsCartOpen=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),cartCount=_useState6[0],setCartCount=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),cartTotal=_useState8[0],setCartTotal=_useState8[1];useEffect(function(){var newCartCount=cartItems.reduce(function(total,cartItem){return total+cartItem.quantity;},0);setCartCount(newCartCount);},[cartItems]);useEffect(function(){var newCartTotal=cartItems.reduce(function(total,cartItem){return total+cartItem.quantity*cartItem.price;},0);setCartTotal(newCartTotal);},[cartItems]);var addItemToCart=function addItemToCart(productToAdd){setCartItems(addCartItem(cartItems,productToAdd));};var removeItemFromCart=function removeItemFromCart(cartItemToRemove){setCartItems(removeCartItem(cartItems,cartItemToRemove));};var clearItemFromCart=function clearItemFromCart(cartItemToClear){setCartItems(clearCartItem(cartItems,cartItemToClear));};var value={isCartOpen:isCartOpen,setIsCartOpen:setIsCartOpen,addItemToCart:addItemToCart,cartItems:cartItems,cartCount:cartCount,removeItemFromCart:removeItemFromCart,clearItemFromCart:clearItemFromCart,cartTotal:cartTotal};return/*#__PURE__*/_jsx(CartContext.Provider,{value:value,children:children});};","map":{"version":3,"sources":["/var/www/capstone/src/contexts/cart.context.jsx"],"names":["createContext","useState","useEffect","addCartItem","cartItems","productToAdd","existingCartItem","find","cartItem","id","map","quantity","removeCartItem","cartItemToRemove","filter","clearCartItem","cartItemToClear","CartContext","isCartOpen","setIsCartOpen","addItemToCart","removeItemFromCart","clearItemFromCart","cartCount","cartTotal","CartProvider","children","setCartItems","setCartCount","setCartTotal","newCartCount","reduce","total","newCartTotal","price","value"],"mappings":"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","sourcesContent":["import { createContext, useState, useEffect } from \"react\";\n\nconst addCartItem = (cartItems, productToAdd) => {\n    const existingCartItem = cartItems.find((cartItem)=> cartItem.id === productToAdd.id);\n\n    if (existingCartItem) {\n        return cartItems.map((cartItem)=> cartItem.id === productToAdd.id ? \n        {...cartItem, quantity: cartItem.quantity + 1}\n        : cartItem\n        )\n    }\n\n    return [...cartItems, {...productToAdd, quantity: 1}]\n\n}\n\nconst removeCartItem = (cartItems, cartItemToRemove) => {\n    const existingCartItem = cartItems.find((cartItem)=> cartItem.id === cartItemToRemove.id);\n\n    if (existingCartItem.quantity === 1) {\n        return cartItems.filter(cartItem => cartItem.id !== cartItemToRemove.id);\n    }\n\n    return cartItems.map((cartItem)=> cartItem.id === cartItemToRemove.id ? \n        {...cartItem, quantity: cartItem.quantity - 1}\n        : cartItem\n    );\n\n}\n\nconst clearCartItem = (cartItems, cartItemToClear) => {\n    return cartItems.filter(cartItem => cartItem.id !== cartItemToClear.id);\n\n}\n\nexport const CartContext = createContext({\n    isCartOpen: false,\n    setIsCartOpen: () => {},\n    cartItems: [],\n    addItemToCart: () => {},\n    removeItemFromCart: () => {},\n    clearItemFromCart: () => {},\n    cartCount: 0,\n    cartTotal: 0\n});\n\nexport const CartProvider = ({children}) => {\n    const [isCartOpen, setIsCartOpen] = useState(false);\n    const [cartItems, setCartItems] = useState([]);\n    const [cartCount, setCartCount] = useState(0);\n    const [cartTotal, setCartTotal] = useState(0);\n\n    useEffect(() => {\n        const newCartCount = cartItems.reduce((total, cartItem) => total + cartItem.quantity, 0);\n        setCartCount(newCartCount);\n    }, [cartItems]);\n\n    useEffect(() => {\n        const newCartTotal = cartItems.reduce((total, cartItem) => total + cartItem.quantity * cartItem.price, 0);\n        setCartTotal(newCartTotal);\n    }, [cartItems])\n\n    const addItemToCart = (productToAdd) => {\n        setCartItems(addCartItem(cartItems, productToAdd));\n    }\n\n    const removeItemFromCart = (cartItemToRemove) => {\n        setCartItems(removeCartItem(cartItems, cartItemToRemove));\n    }\n\n    const clearItemFromCart = (cartItemToClear) => {\n        setCartItems(clearCartItem(cartItems, cartItemToClear));\n    }\n\n    const value = {\n        isCartOpen, \n        setIsCartOpen, \n        addItemToCart, \n        cartItems, \n        cartCount, \n        removeItemFromCart, \n        clearItemFromCart,\n        cartTotal\n    };\n\n    \n\n    return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\n}"]},"metadata":{},"sourceType":"module"}