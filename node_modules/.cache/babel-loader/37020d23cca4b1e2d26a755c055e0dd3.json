{"ast":null,"code":"import _defineProperty from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/var/www/capstone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/var/www/capstone/node_modules/@babel/runtime/regenerator/index.js\";import{useState}from\"react\";import{signInWithGooglePopup,createUserDocumentfromAuth,signInAuthUserWithEmailAndPassword}from'../../utils/firebase/firebase.utils';import'./sign-in-form.styles.scss';import FormInput from\"../form-input/form-input.component\";import Button,{BUTTON_TYPE_CLASSES}from\"../button/button.component\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var defaultFormFields={email:'',password:''};var SignInForm=function SignInForm(){var _useState=useState(defaultFormFields),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];var email=formFields.email,password=formFields.password;var resetFields=function resetFields(){setFormFields(defaultFormFields);};var signInWithGoogle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return signInWithGooglePopup();case 2:case\"end\":return _context.stop();}}},_callee);}));return function signInWithGoogle(){return _ref.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var _yield$signInAuthUser,user;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.prev=1;_context2.next=4;return signInAuthUserWithEmailAndPassword(email,password);case 4:_yield$signInAuthUser=_context2.sent;user=_yield$signInAuthUser.user;resetFields();_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);if(_context2.t0.code==='auth/wrong-password'){alert('incorrect password for email');}else if(_context2.t0.code==='auth/user-not-found'){alert('no eser assosiated with the email');}else{console.log(_context2.t0);}case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormFields(_objectSpread(_objectSpread({},formFields),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Already have an account?\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign up with your email and password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormInput,{label:\"Email\",type:\"email\",required:true,onChange:handleChange,name:\"email\",value:email}),/*#__PURE__*/_jsx(FormInput,{label:\"Password\",type:\"password\",required:true,onChange:handleChange,name:\"password\",value:password}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-container\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Sign In\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",buttonType:BUTTON_TYPE_CLASSES.google,onClick:signInWithGoogle,children:\"Google Sign In\"})]})]})]});};export default SignInForm;","map":{"version":3,"sources":["/var/www/capstone/src/components/sign-in-form/sign-in-form.component.jsx"],"names":["useState","signInWithGooglePopup","createUserDocumentfromAuth","signInAuthUserWithEmailAndPassword","FormInput","Button","BUTTON_TYPE_CLASSES","defaultFormFields","email","password","SignInForm","formFields","setFormFields","resetFields","signInWithGoogle","handleSubmit","event","preventDefault","user","code","alert","console","log","handleChange","target","name","value","google"],"mappings":"ugBAAA,OAASA,QAAT,KAAwB,OAAxB,CAEA,OACIC,qBADJ,CAEIC,0BAFJ,CAGIC,kCAHJ,KAIO,qCAJP,CAKA,MAAO,4BAAP,CAEA,MAAOC,CAAAA,SAAP,KAAsB,oCAAtB,CACA,MAAOC,CAAAA,MAAP,EAAgBC,mBAAhB,KAA0C,4BAA1C,C,wFAGA,GAAMC,CAAAA,iBAAiB,CAAG,CACtBC,KAAK,CAAE,EADe,CAEtBC,QAAQ,CAAE,EAFY,CAA1B,CAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAErB,cAAoCV,QAAQ,CAACO,iBAAD,CAA5C,wCAAOI,UAAP,eAAmBC,aAAnB,eACA,GAAOJ,CAAAA,KAAP,CAA0BG,UAA1B,CAAOH,KAAP,CAAcC,QAAd,CAA0BE,UAA1B,CAAcF,QAAd,CAGA,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBD,aAAa,CAACL,iBAAD,CAAb,CACH,CAFD,CAIA,GAAMO,CAAAA,gBAAgB,0FAAG,yJACfb,CAAAA,qBAAqB,EADN,uDAAH,kBAAhBa,CAAAA,gBAAgB,0CAAtB,CAIA,GAAMC,CAAAA,YAAY,2FAAG,kBAAOC,KAAP,qJACjBA,KAAK,CAACC,cAAN,GADiB,wCAKQd,CAAAA,kCAAkC,CAACK,KAAD,CAAQC,QAAR,CAL1C,6CAKNS,IALM,uBAKNA,IALM,CAObL,WAAW,GAPE,mFAYb,GAAI,aAAMM,IAAN,GAAe,qBAAnB,CAA0C,CACtCC,KAAK,CAAC,8BAAD,CAAL,CACH,CAFD,IAEO,IAAI,aAAMD,IAAN,GAAe,qBAAnB,CAA0C,CAC7CC,KAAK,CAAC,mCAAD,CAAL,CACH,CAFM,IAEA,CACHC,OAAO,CAACC,GAAR,eACH,CAlBY,sEAAH,kBAAZP,CAAAA,YAAY,6CAAlB,CAuBA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACP,KAAD,CAAW,CAC5B,kBAAsBA,KAAK,CAACQ,MAA5B,CAAOC,IAAP,eAAOA,IAAP,CAAaC,KAAb,eAAaA,KAAb,CAEAd,aAAa,gCAAKD,UAAL,wBAAkBc,IAAlB,CAAyBC,KAAzB,GAAb,CAEH,CALD,CAOA,mBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,gDADJ,cAEI,8DAFJ,cAGI,cAAM,QAAQ,CAAEX,YAAhB,wBACI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,CAAyB,IAAI,CAAC,OAA9B,CAAsC,QAAQ,KAA9C,CAA+C,QAAQ,CAAEQ,YAAzD,CAAuE,IAAI,CAAC,OAA5E,CAAoF,KAAK,CAAEf,KAA3F,EADJ,cAEI,KAAC,SAAD,EAAW,KAAK,CAAC,UAAjB,CAA4B,IAAI,CAAC,UAAjC,CAA4C,QAAQ,KAApD,CAAqD,QAAQ,CAAEe,YAA/D,CAA6E,IAAI,CAAC,UAAlF,CAA6F,KAAK,CAAEd,QAApG,EAFJ,cAGI,aAAK,SAAS,CAAC,mBAAf,wBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,qBADJ,cAEI,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,UAAU,CAAEH,mBAAmB,CAACqB,MAAtD,CAA8D,OAAO,CAAEb,gBAAvE,4BAFJ,GAHJ,GAHJ,GADJ,CAeH,CA3DD,CA6DA,cAAeJ,CAAAA,UAAf","sourcesContent":["import { useState} from \"react\";\n\nimport {\n    signInWithGooglePopup, \n    createUserDocumentfromAuth,\n    signInAuthUserWithEmailAndPassword\n} from '../../utils/firebase/firebase.utils';\nimport './sign-in-form.styles.scss';\n\nimport FormInput from \"../form-input/form-input.component\";\nimport Button, {BUTTON_TYPE_CLASSES} from \"../button/button.component\";\n\n\nconst defaultFormFields = {\n    email: '',\n    password: '',\n}\n\nconst SignInForm = () => {\n\n    const [formFields, setFormFields] = useState(defaultFormFields);\n    const {email, password} = formFields;\n\n    \n    const resetFields = () => {\n        setFormFields(defaultFormFields);\n    }\n\n    const signInWithGoogle = async() => {\n        await signInWithGooglePopup();\n    }\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n\n\n        try {\n            const {user} = await signInAuthUserWithEmailAndPassword(email, password);\n\n            resetFields();\n            \n\n        } catch(error) {\n\n            if (error.code === 'auth/wrong-password') {\n                alert('incorrect password for email');\n            } else if (error.code === 'auth/user-not-found') {\n                alert('no eser assosiated with the email');\n            } else {\n                console.log(error)\n            }\n \n        }\n    }\n\n    const handleChange = (event) => {\n        const {name, value} = event.target;\n\n        setFormFields({...formFields, [name]: value});\n\n    };\n\n    return (\n        <div className=\"sign-up-container\">\n            <h2>Already have an account?</h2>\n            <span>Sign up with your email and password</span>\n            <form onSubmit={handleSubmit}>\n                <FormInput label=\"Email\" type=\"email\" required onChange={handleChange} name=\"email\" value={email} />\n                <FormInput label=\"Password\" type=\"password\" required onChange={handleChange} name=\"password\" value={password} />\n                <div className=\"buttons-container\">\n                    <Button type=\"submit\">Sign In</Button>\n                    <Button type=\"button\" buttonType={BUTTON_TYPE_CLASSES.google} onClick={signInWithGoogle}>Google Sign In</Button>\n                </div>\n                \n            </form>\n        </div>\n    )\n}\n\nexport default SignInForm;"]},"metadata":{},"sourceType":"module"}